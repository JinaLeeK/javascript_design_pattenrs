<!doctype html>
<html lang="en" data-framework="backbonejs">
	<head>
		<meta charset="utf-8">
		<script src="jquery/jquery.js"></script>
		<script src="underscore/underscore.js"></script>
		<script src="backbone/backbone.js"></script>
	</head>
  <body>
	<script type="text/JavaScript">
	Person = Backbone.Model.extend({
		defaults: {
			name: 'Fetus',
			age: 0,
			children: []
		},

		// if you return a string from the validate function,
		// Backbone will throw an error.
		validate: function( attributes) {
			if(attributes.age<0 && attributes.name!= "Lee") {
				return "You cant' be negative years old";
			}
		},

		initialize: function() {
			alert("Wlecome to this world");
			this.bind("change:name", function() {
				var name = this.get("name");
				alert("Changed my name to" + name);
			});
			this.bind("error", function(model, error){
				alert(error);
			});
		},

		replaceNameAttr: function(name) {
			this.set( { name: name});
		}
	});

	var person = new Person( {name: 'Thomas', age: 67, children: ['Lee']});
	var person1 = new Person;
	person1.set( {name: "L", age: -1});
	</script>
  </body>
</html>
